<!DOCTYPE html>
<html>
<head>
    <title>WebVS Editor</title>
    <link rel="stylesheet" type="text/css" href="../bower_components/jquery-ui/themes/base/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="../bower_components/jqtree/jqtree.css">
    <link rel="stylesheet" type="text/css" href="../bower_components/spectrum/spectrum.css">
    <link rel="stylesheet" type="text/css" href="../build/webvsed.css">
</head>
<body>

  <button id="model-change">Change Model</button>

  <div id="container" style="width: 500px"></div>

  <script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>
  <script type="text/javascript" src="../bower_components/jquery-ui/ui/jquery-ui.js"></script>
  <script type="text/javascript" src="../bower_components/jqtree/tree.jquery.js"></script>
  <script type="text/javascript" src="../bower_components/jquery-closest-descendant/dist/closestDescendant.js"></script>
  <script type="text/javascript" src="../bower_components/spectrum/spectrum.js"></script>
  <script type="text/javascript" src="../bower_components/underscore/underscore.js"></script>
  <script type="text/javascript" src="../bower_components/backbone/backbone.js"></script>
  <script type="text/javascript" src="../bower_components/webvs/build/webvs.js"></script>
  <script type="text/javascript" src="../build/webvsed.js"></script>

  <script type="text/javascript">
    var myModel = new Backbone.Model();
    myModel.set("color", "#FF00FF");
    var field = WebvsEd.makeField({
        type: "ObjectField",
        title: "My Glorious Object",
        collapsible: true,
        fields: [
            {
                key: "color",
                model: myModel,
                type: "ColorField",
                label: "color",
                default: "#FFFFFF",
            },
            {
                key: "uri",
                model: myModel,
                type: "URIField",
                title: "URI"
            },
            {
                key: "frameCount",
                model: myModel,
                type: "NumberField",
                label: "integer item",
                default: 123,
            },
            {
                key: "compatMode",
                model: myModel,
                type: "BooleanField",
                label: "Check me",
                default: true
            },
            {
                key: "values",
                model: myModel,
                type: "ArrayField",
                title: "Values",
                arrayItem: {
                    type: "EnumField",
                    radio: true,
                    title: "value",
                    enum: ["foo", "bar"],
                    enumLabels: ["Foo", "Bar"]
                }
            },
            {
                key: "pairs",
                model: myModel,
                title: "Key Val",
                collapsible: true,
                type: "KeyValueField",
                keyField: {
                    type: "TextField",
                    label: "Key",
                },
                valueField: {
                    type: "EnumField",
                    title: "Value",
                    enum: ["foo", "bar"],
                    enumLabels: ["Foo", "Bar"]
                }
            },
            {
                key: "text",
                model: myModel,
                keyupChange: true,
                debounceWait: 1000,
                type: "JSONField",
                default: "Hello World"
            }
        ]
    });
    $("#container").append(field.el);

    $("#model-change").click(function() {
        myModel.set("color", "#00FFFF");
    });
    myModel.on("change", function() {
        console.log("model change");
        console.dir(arguments);
    });
  </script>

</body>
</html>
